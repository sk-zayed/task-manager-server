(function(){"use strict";var e={2081:function(e,t,a){var s=a(144),o=a(8345),i=a(8620),r=a(629),n=a(4009),u=a.n(n);s.ZP.use(o.ZP),s.ZP.use(i.ZP),s.ZP.use(r.ZP),s.ZP.use(u());var l=a(8945),m={snackDuration:5e3,BASE_URL:"http://localhost:3000"};const c=async e=>{const t=await l.Z.post(`${m.BASE_URL}/api/auth/register`,e,{headers:{"Content-Type":"application/json"}});return t.data},d=async e=>{const t=await l.Z.post(`${m.BASE_URL}/api/auth/login`,e,{headers:{"Content-Type":"application/json"}});return t.data.data},p="name",f="email",h="token",g="role",v={state:{name:localStorage.getItem(p)||"",email:localStorage.getItem(f)||"",token:localStorage.getItem(h)||"",role:localStorage.getItem(g)||""},getters:{isAuthenticated(e){return!!e.token},isAdmin(e){return"admin"===e.role}},mutations:{setName(e,t){e.name=t},setEmail(e,t){e.email=t},setToken(e,t){e.token=t},setRole(e,t){e.role=t}},actions:{login({commit:e},t){return d(t).then((t=>{const{name:a,email:s,token:o,role:i}=t;return localStorage.setItem(p,a),localStorage.setItem(f,s),localStorage.setItem(h,o),localStorage.setItem(g,i),e("setName",a),e("setEmail",s),e("setToken",o),e("setRole",i),s}))},logout({commit:e}){return localStorage.removeItem(p),localStorage.removeItem(f),localStorage.removeItem(h),localStorage.removeItem(g),e("setName",""),e("setEmail",""),e("setToken",""),e("setRole",""),Promise.resolve()}}};var Z=v;const w=new r.ZP.Store({modules:{auth:Z}});var q=w;l.Z.interceptors.request.use((e=>(e.url.includes("calendar")&&(e.headers["Authorization"]=q.state.auth.token),e)),(e=>Promise.reject(e)));var b=a(998),_=a(3323),y=function(){var e=this,t=e._self._c;return t(b.Z,[t("NavbarComponent"),t(_.Z,{},[t("router-view")],1)],1)},k=[],x=a(5550),P=a(3423),C=a(6570),$=a(9223),S=a(1267),A=a(4324),j=a(3201),I=a(5808),O=a(4525),L=a(6298),T=a(4611),E=a(4017),R=a(3687),z=a(5707),U=a(6313),M=a(7953),N=function(){var e=this,t=e._self._c;return t("v-nav",[t(U.Z,{attrs:{dark:""}},[t(x.Z,{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),t(M.qW,{staticClass:"text-uppercase grey--text"},[t("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t("span",{staticClass:"font-weight-light"},[e._v("Task")]),t("span",{staticClass:"white--text"},[e._v("Manager")])])],1),t(R.Z),t(M.lj,{staticClass:"hidden-sm-and-down mr-4"},[t(z.Z,{staticClass:"my-3 width",attrs:{"hide-details":"",placeholder:"Search",filled:"",rounded:"",dense:"","single-line":"","append-icon":"mdi-magnify"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.search.apply(null,arguments))}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1),this.store.authenticated?t(M.lj,{staticClass:"hidden-sm-and-down",attrs:{to:"/profile"}},[t(C.Z,{staticClass:"font-weight-light",attrs:{text:""}},[e._v(" Welcome "+e._s(e.store.name)+"!! ")])],1):e._e(),this.store.authenticated?t(M.lj,{staticClass:"hidden-sm-and-down",on:{click:e.logout}},[t(C.Z,{staticClass:"font-weight-light",attrs:{text:""}},[e._v(" Logout "),t(A.Z,{attrs:{right:""}},[e._v("mdi-export")])],1)],1):e._e(),this.store.authenticated?e._e():t(M.lj,{staticClass:"hidden-sm-and-down"},[t(C.Z,{staticClass:"font-weight-light",attrs:{text:"",to:"/login"}},[e._v(" Login "),t(A.Z,{attrs:{right:""}},[e._v("mdi-import")])],1)],1),this.store.authenticated?e._e():t(M.lj,{staticClass:"hidden-sm-and-down"},[t(C.Z,{staticClass:"font-weight-light",attrs:{text:"",to:"/signup"}},[e._v(" SignUp "),t(A.Z,{attrs:{right:""}},[e._v("mdi-account-plus")])],1)],1)],1),t(E.Z,{attrs:{absolute:"",temporary:"",dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(j.Z,{attrs:{column:"","align-center":""}},[t(S.Z,{staticClass:"mt-6"},[t(P.Z,{attrs:{size:"100"}},[e.store.authenticated?t("img",{attrs:{src:"favicon.ico",alt:"Profile picture"}}):t(A.Z,{attrs:{"aria-label":"Account",role:"img",size:"100"}},[e._v(" mdi-account ")])],1)],1),t("p",{staticClass:"subheading white--text mt-2"},[e._v(" "+e._s(e.store.name||"Welcome to task manager!")+" ")])],1),t($.Z),t(I.Z,{staticClass:"pt-0"},[e._l(e.links,(function(a){return t(O.Z,{key:a.title,attrs:{to:a.route}},[t(T.Z,[t(A.Z,[e._v(e._s(a.icon))])],1),t(L.km,[t(L.V9,{staticClass:"font-weight-light"},[e._v(e._s(a.title))])],1)],1)})),this.store.authenticated?t(O.Z,{on:{click:e.logout}},[t(T.Z,[t(A.Z,[e._v("mdi-export")])],1),t(L.km,[t(L.V9,{staticClass:"font-weight-light"},[e._v("Logout")])],1)],1):e._e(),this.store.authenticated?e._e():t(O.Z,{attrs:{to:"/signup"}},[t(T.Z,[t(A.Z,[e._v("mdi-account-plus")])],1),t(L.km,[t(L.V9,{staticClass:"font-weight-light"},[e._v("SignUp")])],1)],1),this.store.authenticated?e._e():t(O.Z,{attrs:{to:"/login"}},[t(T.Z,[t(A.Z,[e._v("mdi-import")])],1),t(L.km,[t(L.V9,{staticClass:"font-weight-light"},[e._v("Login")])],1)],1)],2)],1)],1)},V=[],B={data(){return{store:{authenticated:this.$store.getters.isAuthenticated,name:this.$store.state.auth.name,email:this.$store.state.auth.email,profile:""},drawer:null,query:"",links:[{route:"/",icon:"mdi-view-dashboard-variant",title:"Boards"},{route:"/calendar",icon:"mdi-calendar",title:"Calender"},{route:"/teams",icon:"mdi-account-group",title:"Teams"}]}},methods:{search(){console.log(this.query)},logout(){this.$store.dispatch("logout").then((()=>{s.ZP.$toast.open({message:"Logout successful.",duration:m.duration,type:"success"})})).catch((e=>{s.ZP.$toast.open({message:e.message,duration:m.duration,type:"error"})}))}}},D=B,W=a(1001),H=(0,W.Z)(D,N,V,!1,null,"9654224e",null),F=H.exports,Y={name:"App",components:{NavbarComponent:F}},G=Y,J=(0,W.Z)(G,y,k,!1,null,null,null),K=J.exports,Q=function(){var e=this;e._self._c;return e._m(0)},X=[function(){var e=this,t=e._self._c;return t("div",[t("h1",{staticClass:"font-weight-light"},[e._v("Home")]),t("p",[e._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis, totam dolor? Impedit minima magnam, laborum, nobis vitae, possimus consequuntur temporibus odio voluptas ut tenetur enim ipsa dolor. Minus ipsa laudantium, consectetur veritatis, officiis officia earum et molestias animi architecto totam tenetur ab beatae culpa qui. Maiores, tenetur! Aliquam maiores iusto rerum tenetur vero omnis, odit ad optio suscipit, ullam neque mollitia sunt quibusdam odio voluptatem quasi maxime ea eaque ex laudantium sint autem error? Ipsa delectus repellendus vel veniam enim perferendis fuga totam impedit tempora, ullam modi ad accusantium reiciendis iusto possimus. Eos quisquam sequi ea quam tempore quis fugiat voluptatum blanditiis nihil eligendi nesciunt tempora cupiditate quia veniam dolores quae magni, suscipit a accusamus rerum? Non illum ullam nulla illo rerum dolor culpa aliquid odit consequuntur accusantium, et excepturi minima similique libero quas eum doloribus veniam sequi eligendi vero provident. Nam dolorem at deleniti perspiciatis provident voluptate unde consectetur dolor odit, sed tempore ab mollitia voluptatem, quia impedit quidem illum perferendis consequuntur molestiae ea! Ullam libero commodi voluptatem? Sint porro nulla facere quisquam voluptas. Voluptatibus natus est ratione ducimus ipsum quos a rem ea voluptate quia. Totam consequuntur eaque, atque asperiores in temporibus modi aliquid doloribus assumenda illo nemo doloremque, voluptate amet eos sapiente quasi quibusdam id quidem! Repellendus fugiat, neque iusto beatae voluptatum ex maxime! Adipisci corrupti aliquid modi molestias fuga aliquam eaque sed eveniet, in assumenda fugit odit numquam voluptates delectus ad, sequi provident aperiam odio cumque unde ex officia ipsam voluptatum. Laudantium optio minima nam repellat nesciunt nisi maiores unde velit maxime ipsam nostrum error nemo laborum repellendus veritatis suscipit doloribus, quas in, sed earum eius a facere delectus dolor! A, blanditiis quis. Consequuntur ab voluptatum delectus molestiae, fugit harum laboriosam magnam mollitia quos ex quisquam nulla unde temporibus maiores deserunt dolorem nisi, vitae sequi rem!")])])}],ee={name:"HomeComponent",data(){return{stroree:""}},methods:{}},te=ee,ae=(0,W.Z)(te,Q,X,!1,null,null,null),se=ae.exports,oe=a(5125),ie=function(){var e=this,t=e._self._c;return t(_.Z,[t(oe.Z,{ref:"form",staticClass:"pt-4"},[t(z.Z,{attrs:{rules:[e.rules.required,e.rules.email],label:"Email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),t(z.Z,{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.password],type:e.show?"text":"password",label:"Password"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),t(C.Z,{attrs:{dark:""},on:{click:e.login}},[e._v("Login")])],1)],1)},re=[],ne=(a(7658),{name:"LoginPage",data(){return{show:!1,processing:!1,rules:{required:e=>!!e||"Required.",email:e=>{const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."},password:e=>e.length>=8||"Min 8 characters are required"},form:{email:"",password:""}}},methods:{login(){this.$refs.form.validate()&&this.$store.dispatch("login",this.form).then((()=>{s.ZP.$toast.open({message:"Login successful.",duration:m.duration,type:"success"}),this.$router.push({name:"home"})})).catch((e=>{s.ZP.$toast.open({message:e.response.data.message,duration:m.duration,type:"error"}),this.form.email="",this.form.password=""}))}}}),ue=ne,le=(0,W.Z)(ue,ie,re,!1,null,null,null),me=le.exports,ce=function(){var e=this,t=e._self._c;return t(_.Z,[t(oe.Z,{ref:"form",staticClass:"pt-4"},[t(z.Z,{attrs:{rules:[e.rules.required],label:"Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),t(z.Z,{attrs:{rules:[e.rules.required,e.rules.email],label:"Email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),t(z.Z,{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.password],type:e.show?"text":"password",label:"Password"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),t(z.Z,{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.cnfrmpass],type:e.show?"text":"password",label:"Confirm password"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.form.cnfrmpass,callback:function(t){e.$set(e.form,"cnfrmpass",t)},expression:"form.cnfrmpass"}}),t(C.Z,{attrs:{dark:""},on:{click:e.signUp}},[e._v("SignUp")])],1)],1)},de=[],pe={name:"SignupPage",data(){return{show:!1,processing:!1,rules:{required:e=>!!e||"Required.",email:e=>{const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."},password:e=>e.length>=8||"Min 8 characters are required",cnfrmpass:e=>this.cnfrmpass(e)||"Password did not match"},form:{name:"",email:"",password:"",cnfrmpass:""}}},methods:{cnfrmpass(e){return this.form.password===e},async signUp(){if(this.$refs.form.validate())try{const e=await c(this.form);"success"===e.status?(s.ZP.$toast.open({message:"Registration successful.",duration:m.duration,type:"success"}),this.$router.push({name:"home"})):"error"===e.status&&s.ZP.$toast.open({message:e.message,duration:m.duration,type:"error"})}catch(e){s.ZP.$toast.open({message:e.message,duration:m.duration,type:"error"})}}}},fe=pe,he=(0,W.Z)(fe,ce,de,!1,null,null,null),ge=he.exports;const ve={authorize:["admin","general"]},Ze=new o.ZP({mode:"history",routes:[{name:"home",path:"/",component:se},{name:"signup",path:"/signup",component:ge},{name:"login",path:"/login",component:me},{name:"calendar",path:"/calendar",component:se,meta:ve},{name:"teams",path:"/teams",component:se,meta:ve}]});Ze.beforeEach(((e,t,a)=>{const o=e.meta.authorize;return o&&!q.getters.isAuthenticated?(s.ZP.$toast.open({message:"Please login first.",duration:m.duration,type:"error"}),a({name:"login"})):o&&!o.includes(q.state.auth.role)?(s.ZP.$toast.open({message:"You do not have sufficient access to this page.",duration:m.duration,type:"error"}),a({path:"/"})):void a()}));var we=Ze,qe=a(8864);s.ZP.use(qe.Z);var be=new qe.Z({});s.ZP.config.productionTip=!1,new s.ZP({vuetify:be,router:we,store:q,render:e=>e(K)}).$mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,i){if(!s){var r=1/0;for(m=0;m<e.length;m++){s=e[m][0],o=e[m][1],i=e[m][2];for(var n=!0,u=0;u<s.length;u++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[u])}))?s.splice(u--,1):(n=!1,i<r&&(r=i));if(n){e.splice(m--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var m=e.length;m>0&&e[m-1][2]>i;m--)e[m]=e[m-1];e[m]=[s,o,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,i,r=s[0],n=s[1],u=s[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(u)var m=u(a)}for(t&&t(s);l<r.length;l++)i=r[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(m)},s=self["webpackChunktask_manager_vue"]=self["webpackChunktask_manager_vue"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2081)}));s=a.O(s)})();
//# sourceMappingURL=app.ebfb16cd.js.map